# kong-docker

The Docker image generated by the Dockerfile on this repository can easily install kong plugins from the source code.

A Kong configuration file containing the plugin names must be included when the container is created.

``` shell
custom_plugins = pepkong, mutualauthentication
# Comma-separated list of additional plugins
# this node should load.
# Use this property to load custom plugins
# that are not bundled with Kong.
# Plugins will be loaded from the
# `kong.plugins.{name}.*` namespace.

```

Plugins can be loaded from volumes in a docker-compose description file. The configuration below shows how the image can be used.

``` yml
version: "3"
services:
  kong-database:
    image: postgres:9.4
    container_name: kong-database
    ports:
      - "5433:5432"
    environment:
      - POSTGRES_USER=kong
      - POSTGRES_DB=kong

  kong:
    image: kong-docker
    container_name: kong
    restart: always
    ports:
      - 8000:8000
      - 8001:8001
    environment:
      - KONG_DATABASE=postgres
      - KONG_PG_HOST=kong-database
    volumes:
      - kong.conf:/etc/kong/kong.conf
      - <plugin>:/plugins/<plugin>
```
